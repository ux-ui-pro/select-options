{"mappings":"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","sources":["src/SelectOptions.js"],"sourcesContent":["class SelectOptions {\n  constructor() {\n    this.openSelect = null;\n  }\n\n  #setupCustomSelect(selectElement, customSelect) {\n    let selectTrigger = customSelect.querySelector('.select-option-trigger');\n    let selectItems = customSelect.querySelector('.select-option-items');\n\n    if (!selectTrigger) {\n      selectTrigger = document.createElement('div');\n      selectTrigger.classList.add('select-option-trigger');\n      customSelect.appendChild(selectTrigger);\n    }\n\n    if (!selectItems) {\n      selectItems = document.createElement('div');\n      selectItems.classList.add('select-option-items');\n      customSelect.appendChild(selectItems);\n    }\n\n    this.#createOptions(selectElement, selectTrigger, selectItems);\n\n    selectTrigger.addEventListener('click', (e) => {\n      e.stopPropagation();\n\n      if (this.openSelect === customSelect) {\n        customSelect.classList.remove('select-option--open');\n\n        this.openSelect = null;\n      } else {\n        this.#closeOpenDropdowns();\n\n        customSelect.classList.add('select-option--open');\n\n        this.openSelect = customSelect;\n      }\n    });\n  }\n\n  #createOptions(selectElement, selectTrigger, selectItems) {\n    selectItems.innerHTML = '';\n\n    const options = selectElement.querySelectorAll('option');\n\n    options.forEach((option, index) => {\n      const selectItem = document.createElement('div');\n\n      selectItem.classList.add('select-option-item');\n      selectItem.textContent = option.textContent;\n\n      const labelValue = option.getAttribute('label');\n\n      if (labelValue) {\n        selectItem.classList.add(`select-option-item--${labelValue}`);\n      }\n\n      if (option.selected) {\n        selectItem.classList.add('select-option-item--selected');\n        selectTrigger.textContent = option.textContent;\n\n        if (labelValue) {\n          selectTrigger.closest('.select-option').classList.add(`select-option--${labelValue}`);\n        }\n      }\n\n      selectItem.addEventListener('click', () => {\n        this.#selectItem(selectItem, selectTrigger, selectElement, index, selectItems);\n      });\n\n      selectItems.appendChild(selectItem);\n    });\n  }\n\n  #selectItem(selectItem, selectTrigger, selectElement, index, selectItems) {\n    const customSelect = selectTrigger.closest('.select-option');\n\n    selectItems.querySelectorAll('.select-option-item').forEach(item => {\n      item.classList.remove('select-option-item--selected');\n    });\n\n    selectItem.classList.add('select-option-item--selected');\n    selectTrigger.textContent = selectItem.textContent;\n    selectElement.selectedIndex = index;\n\n    const prevLabelClasses = Array.from([...customSelect.classList]).filter(cls => cls.startsWith('select-option--') && cls !== 'select-option--dense');\n\n    prevLabelClasses.forEach(cls => customSelect.classList.remove(cls));\n\n    const selectedOption = selectElement.options[index];\n    const labelValue = selectedOption.getAttribute('label');\n\n    if (labelValue) {\n      customSelect.classList.add(`select-option--${labelValue}`);\n    }\n\n    const event = new Event('change');\n\n    selectElement.dispatchEvent(event);\n    customSelect.classList.remove('select-option--open');\n\n    this.openSelect = null;\n  }\n\n  #closeOpenDropdowns(e) {\n    const openDropdowns = document.querySelectorAll('.select-option.select-option--open');\n\n    openDropdowns.forEach(dropdown => {\n      if (!e || !dropdown.contains(e.target)) {\n        dropdown.classList.remove('select-option--open');\n      }\n    });\n\n    this.openSelect = null;\n  }\n\n  #checkAndSetDownstairsClass(customSelect) {\n    const rect = customSelect.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n\n    if (rect.bottom + 230 > viewportHeight) {\n      customSelect.classList.add('select-option--downstairs');\n    } else {\n      customSelect.classList.remove('select-option--downstairs');\n    }\n  }\n\n  #handleResize() {\n    const selectElements = document.querySelectorAll('.select-option-container .select-option');\n\n    selectElements.forEach(customSelect => {\n      this.#checkAndSetDownstairsClass(customSelect);\n    });\n  }\n\n  init() {\n    const selectElements = document.querySelectorAll('.select-option-container select[name=\"select\"]');\n\n    selectElements.forEach(selectElement => {\n      const customSelect = selectElement.closest('.select-option-container').querySelector('.select-option');\n\n      if (customSelect) {\n        this.#setupCustomSelect(selectElement, customSelect);\n        selectElement.style.display = 'none';\n        this.#checkAndSetDownstairsClass(customSelect);\n      }\n    });\n\n    document.addEventListener('click', this.#closeOpenDropdowns.bind(this));\n    window.addEventListener('resize', this.#handleResize.bind(this));\n    window.addEventListener('scroll', this.#handleResize.bind(this));\n  }\n}\n\nexport default SelectOptions;\n"],"names":[],"version":3,"file":"select-options.js.map"}